# PracticeRaptor CLI

## Введение

CLI-интерфейс `pr` (или `practiceraptor`) предоставляет пользователям доступ ко всем функциям платформы PracticeRaptor непосредственно из командной строки. Он разработан с учетом принципов UX для обеспечения консистентности, эффективности и удобства использования.

## Инициализация и Запуск (REPL)

При запуске `pr` происходит следующая последовательность действий для инициализации окружения:

1.  **Поиск и загрузка конфигурации CLI:**
    *   Программа ищет файл конфигурации (по умолчанию `~/.practiceraptor.yaml`).
    *   Если файл найден, используются его настройки.
    *   Если файл отсутствует, применяются значения по умолчанию. Может быть автоматически вызван `pr config init`.
    *   Настройки сохраняются в памяти.

2.  **Формирование рабочего контекста:**
    *   На основе конфигурации CLI и пользовательского профиля (например, `~/.config/practiceraptor/user.yaml`) устанавливается рабочий контекст.
    *   Контекст включает: настройки CLI, пользовательские настройки (язык, прогресс), текущую задачу/draft, язык для отображения/кода, рабочую директорию.

3.  **Запуск REPL:**
    *   Приложение переходит в режим REPL, отображая приглашение (например, `pr>`).

4.  **Обработка команд:**
    *   CLI парсит введенные команды и выполняет их, используя установленный контекст и конфигурацию.

## Основные группы команд (Command Groups) и подкоманды (Subcommands)

### 1. Группа команд `task`

Управление задачами (просмотр, фильтрация, выбор).

*   **`pr task list`**: Показать список доступных задач с фильтрами (`--difficulty`, `--tag`, `--status`, `--search`, `--page`, `--per-page`).
*   **`pr task view <task_id_or_slug>`**: Показать полное описание конкретной задачи (`--lang`, `--language`).
*   **`pr task random`**: Выбрать и показать случайную задачу с учетом фильтров.

### 2. Группа команд `solve`

Процесс решения задач (написание, проверка, подсказки).

*   **`pr solve <task_id_or_slug>`**: Начать решение задачи, открывая редактор или интерактивный режим (`--lang`, `--editor`, `--interactive`).
*   **`pr solve check`**: Проверить текущий код (`--fast`, `--lang`).
*   **`pr solve hint`**: Получить подсказку по задаче (`--level`).
*   **`pr solve solution`**: Посмотреть эталонное или пользовательское решение (`--lang`, `--community`).
*   **`pr solve submit`**: Отправить решение (`--lang`).

### 3. Группа команд `user`

Управление профилем пользователя и статистикой.

*   **`pr user settings view`**: Показать текущие настройки пользователя.
*   **`pr user settings set <key> <value>`**: Установить настройку пользователя.
*   **`pr user progress`**: Отобразить сводку прогресса пользователя (`--detail`).
*   **`pr user history`**: Показать историю успешных решений (`--task`, `--lang`).

### 4. Группа команд `config`

Управление настройками самого CLI.

*   **`pr config show`**: Показать текущую конфигурацию CLI.
*   **`pr config set <key> <value>`**: Установить настройку CLI.
*   **`pr config init`**: Инициализировать файл конфигурации CLI со значениями по умолчанию.

## Дополнительные аспекты

*   **Цветовой вывод:** Важный элемент UX, используется для индикации статусов, уровней сложности и т.д.
*   **Конфигурационный файл:** Основные настройки CLI хранятся в `~/.practiceraptor.yaml`.
*   **Автосохранение (Drafts):** Код автоматически сохраняется при переключении задач или выходе.
